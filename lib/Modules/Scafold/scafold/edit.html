<?php if (count($errors)) foreach($errors as $k=>$err) { ?>
	<?php if ($err) echo $err; else {?>
	Поле <?php echo $fields[$k]->title ?> имеет некорректное значение<br />
	<?php } ?>
<?php } ?>
<form action="<?php echo $P->siteUrl($info['ControllerUrl'].'/edit/'.$id) ?>" class="scafoldEdit"
	  method="post" id="form_<?php echo $table ?>" enctype="multipart/form-data">
<?php foreach($data as $k=>$v) {
	$i = $fields[$k];
	if ($i->hide)
		continue;
	//по умолчанию первичный ключ не редактируем, но если принудительно установим показ
	if (!$i->primaryKey && !($i->hide === false))
		continue;
	?>
	<p>
		<label<?php if (isset($errors[$k])) echo ' class="err"'; ?>>
			<?php echo $i->title ?></label>
		<?php
		if (isset($methods['editor_'.ucfirst($k)]))
			echo call_user_func($class.'::editor_'.ucfirst($k), $id, $v);
		else
			echo $i->editor($id, $v); ?>
	</p>
<?php } ?>
	<input type="submit" value="Отправить" name="send" />
</form>
