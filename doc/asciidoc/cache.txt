Кеширование
-----------

Бэкенды кеширующей системы
~~~~~~~~~~~~~~~~~~~~~~~~~~

Файловый кеш
^^^^^^^^^^^^

Файловый кешер основан на переписанной библиотеке link:http://pear.php.net/package/Cache_Lite[CacheLite] из комплекта Pear. 

Данные сохраняются в файлах по одному файлу на значение. Присутствует возможность разбивать по подкаталогам с помощью хеш функции. 

Кешер имеет довольно много опций - поддерживается проверка при записи и чтении, автоочистка от старых значений, возможность полного отключения кеширования.

[source, php]
-------------------------------------------
sys::[cat ../../QFW/Cacher/File.php | sed '/protected $options =/,/);/!d; s/^\t//; s/^protected //']
-------------------------------------------

По умолчанию кеш хранится в папке tmp/cache, однако можно переопределить это значение. Указание другого префикса позволит хранить в одной папке несколько кешеров с различными параметрами. 

Berkeley DB
^^^^^^^^^^^

Бэкенд кеша, основанный на файловой нереляционной БД. BDB может обслуживать тысячи процессов или потоков, одновременно манипулирующих базами данных размером в 256 терабайт. Berkeley DB поддерживает многие передовые возможности баз данных, такие как ACID-транзакции, детальные блокировки, горячие бэкапы и репликацию. 

Более подробно - link:http://ru.wikipedia.org/wiki/Berkeley_DB[wikipedia], link:http://www.oracle.com/technology/products/berkeley-db/index.html[Oracle]

С файлом может параллельно работать много процессов - блокировки не требуется. 

Есть два класса для работы с BDB:
Первый работает как простое хранилище ключ-значение
Второй учитывает время жизни.

Кешер имеет единственную опцию - файл, в котором хранится кеш - по умолчанию tmp/cache.db4

MemCache
^^^^^^^^

Общий интерфейс для хранении в MemCache, есть два класса:
Memcache - использует стандартный класс Memecache
Memcached - использует библиотеку libmemcached

XCache
^^^^^^

Общий интерфейс для хранении в кеше XCache, аналогично можно написать для APC и eAccelerator, но пока не требовалось
